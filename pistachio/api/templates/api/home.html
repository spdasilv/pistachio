{% extends "api/index.html" %}
{% block content %}
    {% load static %}
    <head>
        <link href="{% static "api/css/style.css" %}" rel="stylesheet" type="text/css"/>
        <link href="{% static "api/css/styling.css" %}" rel="stylesheet" type="text/css"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script defer src="/static/api/js/fontawesome/fontawesome-all.js"></script>
    </head>
    <body>
        <div class="parent-container1">
            <h2 class="main-title" style="float:left">
                UPCOMING...
            </h2>
            <!-- <hr class="title-divider"/> -->
            <a href="#openModal" style="float:right" style="text-decoration:none;" class="green-button" style="float:right">
                <h3>
                    + Add trip
                </h3>
            </a>
            <hr class="title-separator">
            <p style="clear:both; font-style:italic;opacity:0.4">
                Add a trip to start planning a group trip.
            </p>

            <!-- ===================== ROW 1 of present travels ================ -->
            <div class="row">
                {% for trip in trips.all %}
                    {% if forloop.counter|divisibleby:3 %}
                        <div class="col-4 travel-tile">
                    {% else %}
                        <div class="col-4 travel-tile travel-tile-margin">
                    {% endif %}
                        <div class="travel-tile-container {{ trip.city.img_url }}">
                            <h3 class="travel-location">
                                <a href="{% url 'api:activityDetails' trip.id %}">{{ trip.city.name }}, {{ trip.city.country }}</a>
                            </h3>
                            <hr/>
                            <h4 class="travel-duration">
                                {{ trip.start_date }} - {{ trip.end_date }}
                                <span class="travel-count">
                                    GROUP SIZE: {{ trip.userstrip_set.count }}
                                </span>
                            </h4>
                        </div>
                    </div>
                    {% if forloop.counter|divisibleby:3 %}
                        </div>
                        <div class="row">
                    {%  endif %}
                {% endfor %}
            </div>
        </div>
        <div class="parent-container1">
            <h2 class="main-title" style="float:left">
                PAST TRIPS
            </h2>
            <hr class="title-separator"/>
            <!-- ===================== ROW 1 of travels ================ -->
            <div class="row">
                <div class="col-4 travel-tile travel-tile-margin">
                    <div class="travel-tile-container macau-container">
                        <h3 class="travel-location">
                            Macau, China
                        </h3>
                        <hr/>
                        <h4 class="travel-duration">
                            Date
                            <span class="travel-count">
                                4
                            </span>
                        </h4>
                    </div>
                </div>
                <div class="col-4 travel-tile travel-tile-margin">
                    <div class="travel-tile-container ubud-container">
                        <h3 class="travel-location">
                            Ubud, Indonesia
                        </h3>
                        <hr/>
                        <h4 class="travel-duration">
                            Date
                            <span class="travel-count">
                                4
                            </span>
                        </h4>
                    </div>
                </div>
                <div class="col-4 travel-tile">
                    <div class="travel-tile-container tokyo-container">
                        <h3 class="travel-location">
                            Tokyo, Japan
                        </h3>
                        <hr/>
                        <h4 class="travel-duration">
                            Date
                            <span class="travel-count">
                                4
                            </span>
                        </h4>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <div id="openModal" class="modalDialog modalDialogAddTrip" style="overflow:scroll;">
        <div style="color: #404144;">	<a href="#close" title="Close" class="close">x</a>
        <form method='post' action="{% url 'api:newTrip'%}">
            {% csrf_token %}
            <div>
                <style>
                input.inputAddTrip[type=text]{
                    width:70%;
                    border-bottom: 1px solid white;
                    font-size: 13px;
                    font-weight: normal;
                    font-style:italic;
                    color: var(--darkergrey);
                }
                input.inputAddTrip[type=text]:focus, input[type=text]:active {
                    border-bottom: 1px solid white;
                    outline: none;
                }
                input.inputAddTrip[type=date]{
                    font-size: 13px;
                    font-weight: normal;
                    border: 0px;
                    color: var(--darkergrey);
                    width:33%;
                }
                input.inputAddTrip[type=datetime]{
                    font-size: 13px;
                    font-weight: normal;
                    border: 0px;
                    color: var(--darkergrey);
                }
                .modalDialogAddTrip > div {
                    padding: 5px 55px 13px 55px;
                }
                hr.divider {
                    margin-left: -55px;
                    margin-right: -55px;
                    border-color: #f4f6f9;
                    opacity: 0.5;
                }
                .iconAddTrip{
                    font-size: 23px;
                    margin-right:40px;
                    margin-top:20px;
                    color:var(--darkergrey);
                }
                textarea{
                    font-size: 13px;
                    font-weight: normal;
                    font-style:italic;
                    color: var(--darkergrey);
                    margin-top:30px;
                    border: 0px;
                    position: absolute;
                    color:var(--darkergrey);
                    margin-left:-11px;
                    #background-color:yellow;
                    rows:"2";
                    width:300px;
                    resize: none;
                }
                </style>
                <h1 style="margin-top:45px;">ADD TRIP</h1>
                <hr class="divider"/>
                <i class="fas fa-map-marker-alt fa-lg iconAddTrip" style="margin-top:37px;margin-left:4px;"></i>  <input class="inputAddTrip" type="text" name="city_choice" maxlength="300" required id="id_city_choice" value="Search Locations" style="margin-left:5px;"/><br>
                <i class="fas fa-bed fa-lg iconAddTrip"></i>  <input class="inputAddTrip" type="text" name="hotel" maxlength="300" required id="id_hotel" value="Search Hotel & Accommodation" /><br>
                <i class="far fa-calendar fa-lg iconAddTrip" style="margin-left:3px;"></i>  <input class="inputAddTrip" type="date" name="start_date" required id="id_start_date"/>
                <input class="inputAddTrip" type="date" name="end_date" required id="id_end_date" style="margin-left:45px;"/><br>
                <i class="far fa-clock fa-lg iconAddTrip" style="margin-left:2px;margin-top:30px;margin-bottom:30px;"></i><br/>
                <hr class="divider" style="opacity:0.3"/>
                <i class="fas fa-users fa-lg iconAddTrip" style="margin-left:-6px;margin-top:30px;font-size: 35px;"></i> <textarea class="inputAddTrip" name="emails" maxlength="1000" required id="id_emails">Add Group Mates</textarea><br>
                <div class="iconAddTrip" style="margin-top:30px;margin-left:1px;display: inline;font-size: 18px;">BID</div> <input class="inputAddTrip" type="datetime" name="bidding_ends" value="2018-02-14 14:09:59" required id="id_bidding_ends" style="margin-top:30px;margin-left:-4px;width:78%;"/><br>
                <br>
            </div>
            <div style="display: flex;position: absolute;top:570px;left:37%;">
            	<button type="submit"  style="text-decoration:none;" class="green-button" style="float:right" style="text-align: center;">CREATE TRIP</button>
            </div>
        </form>
        </div>
    </div>
{% endblock %}